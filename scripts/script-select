#!/bin/bash

DMENU="${DMENU:-dmenu}"

OPTION=$(echo '1. Select AWS profile
2. My Jiras
3. Deploy
4. Config
5. Gif rec
6. Meme selector
7. ASCII ART
8. Gitmoji select
9. Edit script' \
    | $DMENU -i -l 10)

notify() {
    notify-send -a Script $1 -u normal
}

case $OPTION in
    "1. Select AWS profile")
        aws-select
    ;;
    "2. My Jiras")
        jira-select-mine
    ;;
    "3. Deploy")
        deploy ls \
            | $DMENU -p Deploy \
            | xargs -I {} deploy "{}" \
            | xargs -I {} notify-send -a Script "{}"
    ;;
    "4. Config")
        EDITOR=editi3 config $(config ls | $DMENU -i -l 10 -p Config)
    ;;
    "5. Gif rec")
        gifrec
    ;;
    "6. Meme selector")
        memesel
    ;;
    "7. ASCII ART")
        cat ~/Documents/ascii-art.txt \
            | $DMENU -l 10 -p ASCII \
            | tr -d '\n' \
            | ~/Scripts/copy
    ;;
    "8. Gitmoji select")
        gitmoji-menu
    ;;
    "9. Edit script")
        FILE=$(ls ~/Scripts | $DMENU -i -l 20 -p Script)
        editi3 ~/Scripts/$FILE
    ;;
esac
